<div>
    <form nz-form #emailServiceConfigForm="ngForm">
        <nz-spin [nzSpinning]="isSpinning">
          <!-- SMTP Server Configuration -->
          <div nz-row nzGutter="16">
            <div nz-col nzSpan="14">
              <div class="my-box">
                <span>SMTP Server Configuration</span>
                <!-- Service Provider -->
                <div nz-row>
                  <div nz-col nzSpan="24">
                    <nz-form-item>
                      <nz-form-label nzRequired nzNoColon>Service Provider</nz-form-label>
                      <nz-form-control nzErrorTip="Please enter a valid Service Provider (letters and spaces only)">
                        <input
                          nz-input
                          placeholder="Enter Service Provider"
                          name="serviceProvider"
                          [(ngModel)]="data.SERVICE_PROVIDER"
                          autocomplete="off"
                          pattern="^[a-zA-Z\s]+$"
                          maxlength="128"
                          required
                        />
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                </div>
                <div nz-row> 
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                          <nz-form-label nzNoColon>Encryption Type</nz-form-label>
                          <nz-form-control nzErrorTip="Please select an encryption type">
                            <nz-select
                            nzPlaceHolder="Select encryption type"
                              [(ngModel)]="data.ENCRYPTION_TYPE"
                              name="encryptionType"
                              autocomplete="off"
                              required
                            >
                              <nz-option nzValue="None" nzLabel="None"></nz-option>
                              <nz-option nzValue="SSL" nzLabel="SSL"></nz-option>
                              <nz-option nzValue="TLS" nzLabel="TLS"></nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                  <div nz-col nzSpan="12">
                    <nz-form-item>
                      <nz-form-label nzNoColon>Authentication Type</nz-form-label>
                      <nz-form-control nzErrorTip="Please select an authentication type">
                        <nz-select
                        nzPlaceHolder="Select authentication type"
                          [(ngModel)]="data.AUTHENTICATION_TYPE"
                          name="authenticationType"
                          autocomplete="off"
                          required
                        >
                          <nz-option nzValue="Basic" nzLabel="Basic"></nz-option>
                          <nz-option nzValue="OAuth2" nzLabel="OAuth2"></nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
         
                
                  <div nz-col nzSpan="15">
                    <nz-form-item>
                      <nz-form-label nzRequired nzNoColon>SMTP Host</nz-form-label>
                      <nz-form-control nzErrorTip="Please enter a valid hostname (e.g., smtp.example.com)">
                        <input
                          nz-input
                          placeholder="Enter SMTP Host"
                          name="smtpHost"
                          [(ngModel)]="data.SMTP_HOST"
                          autocomplete="off"
                          pattern="^([a-zA-Z0-9][-a-zA-Z0-9]*[a-zA-Z0-9]\.)+[a-zA-Z]{2,}$"
                          maxlength="128"
                          required
                        />
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col nzSpan="9">
                    <nz-form-item>
                      <nz-form-label nzNoColon>SMTP Port</nz-form-label>
                      <nz-form-control nzErrorTip="Please enter a valid port number">
                        <input
                          nz-input
                          type="number"
                          placeholder="SMTP Port"
                          name="smtpPort"
                          [(ngModel)]="data.SMTP_PORT"
                          autocomplete="off"
                          min="1"
                          max="65535"
                          required
                        />
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  
                
                    <div nz-col nzSpan="15">
                        <nz-form-item>
                          <nz-form-label nzRequired nzNoColon>Username</nz-form-label>
                          <nz-form-control nzErrorTip="Please enter a valid username">
                            <input
                              nz-input
                              placeholder="Enter Username"
                              name="username123dfdsfdg"
                              [(ngModel)]="data.USERNAME"
                              autocomplete="off"
                              maxlength="128"
                              required
                            />
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzSpan="9">
                        <nz-form-item>
                          <nz-form-label nzRequired nzNoColon>Password</nz-form-label>
                          <nz-form-control
                          nzHasFeedback
                          style="text-align: left"
                          nzRequired
                          nzErrorTip="Please Enter Valid Password"
                        >
                          <nz-input-group nzPrefixIcon="lock" [nzSuffix]="suffixTemplate">
                            <input
                              nz-input
                              [type]="passwordVisible ? 'text' : 'password'"
                              name="passwordemail"
                              [(ngModel)]="data.PASSWORD"
                              placeholder="Password"
                              placeholder="Enter Password"
                              required
                              maxlength="128"
                            />
                          </nz-input-group>
            
                          <ng-template #suffixTemplate>
                            <i
                              nz-icon
                              [nzType]="passwordVisible ? 'eye' : 'eye-invisible'"
                              (click)="passwordVisible = !passwordVisible"
                            ></i>
                          </ng-template>
                        </nz-form-control>
                        </nz-form-item>
                      </div>
                </div>
                <!-- SMTP Host, Port, and Encryption Type -->
               
        
                <!-- Authentication -->
              
              
              </div>
              <div class="my-box">
                <div nz-row>
               
                  <div nz-col nzSpan="24">
                    <nz-form-item>
                      <nz-form-label nzNoColon>Notes</nz-form-label>
                      <nz-form-control>
                        <textarea
                          nz-input
                          rows="2"
                          placeholder="Enter Notes"
                          name="notes"
                          [(ngModel)]="data.NOTES"
                          autocomplete="off"
                          maxlength="1024"
                        ></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                </div>
              </div>
            </div>
            <div nz-col nzSpan="10">
              <div class="my-box">
                <span>Sender Information</span>
                <div nz-row>
                  <div nz-col nzSpan="24">
                    <nz-form-item>
                      <nz-form-label nzRequired nzNoColon>Sender Name</nz-form-label>
                      <nz-form-control nzErrorTip="Please enter a valid name">
                        <input
                          nz-input
                          placeholder="Enter Sender Name"
                          name="senderName"
                          [(ngModel)]="data.SENDER_NAME"
                          autocomplete="off"
                          pattern="^[a-zA-Z\s]+$"
                          maxlength="128"
                          required
                        />
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col nzSpan="24">
                    <nz-form-item>
                      <nz-form-label nzRequired nzNoColon>Sender Email</nz-form-label>
                      <nz-form-control nzErrorTip="Please enter a valid email address">
                        <input
                          nz-input
                          type="email"
                          placeholder="Enter Sender Email"
                          name="senderEmail"
                          [(ngModel)]="data.SENDER_EMAIL"
                          autocomplete="off"
                          maxlength="128"
                          required
                        />
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                </div>
              </div>
              <div class="my-box">
                <span>Other Information</span>
              
                <div nz-row>
                  <div nz-col nzSpan="12">
                    <nz-form-item>
                      <nz-form-label nzNoColon>Retry Attempts</nz-form-label>
                      <nz-form-control nzErrorTip="Please enter a valid number">
                        <input
                          nz-input
                          type="number"
                          placeholder="Enter Retry Attempts"
                          name="retryAttempts"
                          [(ngModel)]="data.RETRY_ATTEMPTS"
                          autocomplete="off"
                          min="1"
                          max="10"
                          required
                        />
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col nzSpan="12">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Timeout (seconds)</nz-form-label>
                        <nz-form-control nzErrorTip="Please select a valid timeout">
                            <nz-time-picker [(ngModel)]="data.TIMEOUT_SECONDS" nzFormat="ss"></nz-time-picker>
                          
                        </nz-form-control>
                      </nz-form-item>
                  </div>
                  <div nz-col nzSpan="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Status</nz-form-label>
                        <nz-form-control>
                            <nz-switch name="IS_ACTIVE" [(ngModel)]="data.IS_ACTIVE" nzCheckedChildren="Active"
                                nzUnCheckedChildren="Inactive" required></nz-switch>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                </div>
             
              </div>
            </div>
          </div>
      
    
          <!-- Sender Information -->
        
    
          <!-- Advanced Settings -->
        
        </nz-spin>
      </form>
  
    <!-- Footer Buttons -->
    <div class="footer">
    
        <button
          type="button"
          nz-button
          (click)="Close()"
          class="ant-btn"
          style="margin-right: 8px"
        >
          <span>Cancel</span>
        </button>
        <!-- <button
        type="button"
        class="ant-btn ant-btn-primary"
        style="border-radius: 4px; background-color: #40a9ff;margin-right: 8px"
        nz-button
        [nzLoading]="isSpinning"
        (click)="save1(false)"
      >
        <span>Save as Draft</span>
      </button> -->
        <button
          type="button"
          class="ant-btn ant-btn-primary"
         
          nz-button
          nz-dropdown
          style="border-radius: 4px; background-color: #40a9ff;"
          [nzDropdownMenu]="menu" 
          [nzLoading]="isSpinning"
        >
          <span>Save & Close</span>
        </button>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu>
            <li
              nz-menu-item
              class="menuc"
              style="border-radius: 4px; background-color: #40a9ff"
            >
              <a   style="color: white;">Save & New</a>
            </li>
          </ul>
        </nz-dropdown-menu>
      
      </div>
  </div>
  