<div style="margin-top: 10px" >
    <form nz-form #Servicemaster="ngForm">
      <div nz-row>
        <div nz-col nzSpan="12">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Service</nz-form-label>
            <nz-form-control nzHasFeedback nzErrorTip="Please Select Service">
              <nz-select
                nzAllowClear="true"
                nzPlaceHolder="Select Service"
                name="SERVICE_CATLOG_ID"
                [(ngModel)]="data.SERVICE_CATLOG_ID"
                nzShowSearch
                required
              >
                <nz-option
                  *ngFor="let data of serviceData"
                  [nzValue]="data.ID"
                  [nzLabel]="data.NAME"
                ></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="12">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Service Item Name</nz-form-label>
            <nz-form-control nzHasFeedback nzErrorTip="Please Enter Service Item Name">
              <input
                nz-input
                name="name"
                placeholder="Enter Service Item Name"
                (keypress)="commonFunction.alphaOnly($event)"
                required
                [(ngModel)]="data.NAME"
                maxlength="256"
                autocomplete="off"
              />
              <h6
              style="color: red; font-size: 10px"
              *ngIf="
                data.NAME != undefined &&
                data.NAME != null &&
                data.NAME != ''
              "
            >
              {{ data.NAME.length }}/256
            </h6>
            </nz-form-control>
          </nz-form-item>
        </div>
        
      </div>

        
      <div nz-row>
        
        <div nz-col nzSpan="24">
            <nz-form-item>
              <nz-form-label nzNoColon nzRequired>Description</nz-form-label>
              <nz-form-control nzErrorTip="Please Enter Description">
                <textarea
                  name="DESCRIPTION"
                  [(ngModel)]="data.DESCRIPTION"
                  nz-input
                  placeholder="Enter Description"
                  [nzAutosize]="{ minRows: 2, maxRows: 6 }"
                  required
                  style="width: 100%"
                  maxlength="512"
                ></textarea>
                <h6
                  style="color: red; font-size: 10px"
                  *ngIf="
                    data.DESCRIPTION != undefined &&
                    data.DESCRIPTION != null &&
                    data.DESCRIPTION != ''
                  "
                >
                  {{ data.DESCRIPTION.length }}/512
                </h6>
              </nz-form-control>
            </nz-form-item>
          </div>
      </div>
      <div nz-row>
      <div nz-col nzSpan="12"  >
        <span><b>Regular Service</b></span>

        <div nz-row class="my-box">
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>B2B Service Cost</nz-form-label>
            <nz-form-control nzHasFeedback nzErrorTip="Please Enter B2B Service Cost">
              <nz-input-group [nzAddOnAfter]="'₹'">
              <input
                nz-input
                name="PRICE_B2B"
                placeholder="Enter B2B Service Cost"
                required
                [(ngModel)]="data.PRICE_B2B"
                (keypress)="commonFunction.onlynumdot($event)"
                autocomplete="off"
                maxlength="8"
              />
            </nz-input-group>
              <h6
              style="color: red; font-size: 10px"
              *ngIf="
                data.PRICE_B2B != undefined &&
                data.PRICE_B2B != null &&
                data.PRICE_B2B != ''
              "
            >
              {{ data.PRICE_B2B.length }}/8
            </h6>
          
            </nz-form-control>
          </nz-form-item>
        </div>
      
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>B2C Service Cost</nz-form-label>
            <nz-form-control nzHasFeedback nzErrorTip="Please Enter B2C Service Cost">
              <nz-input-group [nzAddOnAfter]="'₹'">
              <input
                nz-input
                name="PRICE_B2C"
                placeholder="Enter B2C Service Cost"
                required
                [(ngModel)]="data.PRICE_B2C"
                (keypress)="commonFunction.onlynumdot($event)"
                autocomplete="off"
                maxlength="8"
              /></nz-input-group>
              <h6
              style="color: red; font-size: 10px"
              *ngIf="
                data.PRICE_B2C != undefined &&
                data.PRICE_B2C != null &&
                data.PRICE_B2C != ''
              "
            >
              {{ data.PRICE_B2C.length }}/8
            </h6>
          
            </nz-form-control>
          </nz-form-item>
        </div>
        </div>
      </div>
        
      <div nz-col nzSpan="12" style="padding-left: 7px;">
        <span><b>Express Service</b></span>

        <div nz-row class="my-box">
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Express Price For B2B</nz-form-label>
            <nz-form-control nzErrorTip="Please Enter Express Price For B2B">
              <nz-input-group [nzAddOnAfter]="'₹'">
              <input
                nz-input
                placeholder="Enter Express Price For B2B"
                name="EXPRESS_PRICE_FOR_B2B"
                required
                [(ngModel)]="data.EXPRESS_PRICE_FOR_B2B"
                (keypress)="commonFunction.onlynumdot($event)"
                required
                autocomplete="off"
                maxlength="8"
              /></nz-input-group>
              <h6
              style="color: red; font-size: 10px"
              *ngIf="
                data.EXPRESS_PRICE_FOR_B2B != undefined &&
                data.EXPRESS_PRICE_FOR_B2B != null &&
                data.EXPRESS_PRICE_FOR_B2B != ''
              "
            >
              {{ data.EXPRESS_PRICE_FOR_B2B.length }}/8
            </h6>
          
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Express Price For B2C</nz-form-label>
            <nz-form-control nzErrorTip="Please Enter Express Price For B2C">
              <nz-input-group [nzAddOnAfter]="'₹'">
              <input
                nz-input
                placeholder="Enter Express Price For B2C"
                name="EXPRESS_PRICE_FOR_B2C"
                required
                [(ngModel)]="data.EXPRESS_PRICE_FOR_B2C"
                (keypress)="commonFunction.onlynumdot($event)"
                required
                autocomplete="off"
                maxlength="8"
              /></nz-input-group>
              <h6
              style="color: red; font-size: 10px"
              *ngIf="
                data.EXPRESS_PRICE_FOR_B2C != undefined &&
                data.EXPRESS_PRICE_FOR_B2C != null &&
                data.EXPRESS_PRICE_FOR_B2C != ''
              "
            >
              {{ data.EXPRESS_PRICE_FOR_B2C.length }}/8
            </h6>
          
            </nz-form-control>
          </nz-form-item>
        </div>
        </div>
       </div>
      </div>

      <div nz-row>
        <div nz-col nzSpan="12"  >
          <span><b>Average Cost</b></span>
      <div nz-row class="my-box">
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Average Technician Cost</nz-form-label>
            <nz-form-control nzErrorTip="Please Enter Average Technician Cost">
              <nz-input-group [nzAddOnAfter]="'₹'">
              <input
                nz-input
                placeholder="Enter Average Technician Cost"
                name="AVERAGE_TECHNICIAN_COST"
                required
                [(ngModel)]="data.AVERAGE_TECHNICIAN_COST"
                (keypress)="commonFunction.onlynumdot($event)"
                required
                autocomplete="off"
                maxlength="8"
              /></nz-input-group>
              <h6
              style="color: red; font-size: 10px"
              *ngIf="
                data.AVERAGE_TECHNICIAN_COST != undefined &&
                data.AVERAGE_TECHNICIAN_COST != null &&
                data.AVERAGE_TECHNICIAN_COST != ''
              "
            >
              {{ data.AVERAGE_TECHNICIAN_COST.length }}/8
            </h6>
          
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Average Vendor Cost</nz-form-label>
            <nz-form-control nzErrorTip="Please Enter Average Vendor Cost">
              <nz-input-group [nzAddOnAfter]="'₹'">
              <input
                nz-input
                placeholder="Enter Average Vendor Cost"
                name="AVERAGE_VENDOR_COST"
                required
                [(ngModel)]="data.AVERAGE_VENDOR_COST"
                (keypress)="commonFunction.onlynumdot($event)"
                required
                autocomplete="off"
                maxlength="8"
              /></nz-input-group>
              <h6
              style="color: red; font-size: 10px"
              *ngIf="
                data.AVERAGE_VENDOR_COST != undefined &&
                data.AVERAGE_VENDOR_COST != null &&
                data.AVERAGE_VENDOR_COST != ''
              "
            >
              {{ data.AVERAGE_VENDOR_COST.length }}/8
            </h6>
          
            </nz-form-control>
          </nz-form-item>
        </div>
       </div>
        </div>
        <div nz-col nzSpan="12"  style="padding-left: 7px; padding-top: 20px;">
        <div nz-row class="my-box">
          <div nz-col nzSpan="24">
            <nz-form-item>
              <nz-form-label nzNoColon nzRequired>Max Order Quantity</nz-form-label>
              <nz-form-control nzErrorTip="Please Enter Max Order Quantity">
                <input
                  nz-input
                  placeholder="Enter Max Order Quantity"
                  name="MAX_STOCK_QUANTITY"
                  required
                  [(ngModel)]="data.MAX_STOCK_QUANTITY"
                  (keypress)="commonFunction.onlynum($event)"
                  required
                  maxlength="5"
                  autocomplete="off"
                /></nz-form-control>
                <h6
                style="color: red; font-size: 10px"
                *ngIf="
                  data.MAX_STOCK_QUANTITY != undefined &&
                  data.MAX_STOCK_QUANTITY != null &&
                  data.MAX_STOCK_QUANTITY != ''
                "
              >
                {{ data.MAX_STOCK_QUANTITY.length }}/5
              </h6>
              
            </nz-form-item>
          </div>
          
          <div nz-col nzSpan="24">
            <nz-form-item>
              <nz-form-label nzNoColon nzRequired>Estimated Service Time</nz-form-label>
              <nz-form-control nzErrorTip="Please Enter Estimated Service Time">
                <nz-input-group [nzAddOnAfter]="'mins'" style="width: 100%">
                  <input
                  nz-input
                  name="TIME_ESTIMATE"
                  placeholder="Enter Estimated Service Time"
                  required
                  autocomplete="off"
                  [(ngModel)]="data.TIME_ESTIMATE"
                  (keypress)="commonFunction.onlynum($event)"
                  maxlength="128"
                />
                </nz-input-group>
              </nz-form-control>
            </nz-form-item>
          </div>
          </div>
        </div>
        </div>
          
      <div nz-row>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Short Code</nz-form-label>
            <nz-form-control nzHasFeedback nzErrorTip="Please Enter Short Code">
              <input
                nz-input
                placeholder="Enter Short Code"
                name="SHORT_CODE"
                required
                [(ngModel)]="data.SHORT_CODE"
                required
                maxlength="12"
                autocomplete="off"
              />
            </nz-form-control>
            <span style="color: red; font-size: 10px !important;" *ngIf="data.SHORT_CODE"
              >{{ data.SHORT_CODE.length }}/12</span
            >
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label nzNoColon nzRequired>Sequence No.</nz-form-label>
            <nz-form-control nzHasFeedback nzErrorTip="Please Enter Sequence No.">
              <input
                nz-input
                placeholder="Sequence No."
                name="SeqNo"
                style="width: 100%"
                required
                [(ngModel)]="data.SEQ_NO"
                required
                #seqNo="ngModel"
                (keypress)="commonFunction.onlynum($event)"
                maxlength="8"
                disabled
              />
            </nz-form-control>
          </nz-form-item>
        </div>
         <!-- <div nz-col nzSpan="2"></div> -->
         <div nz-col nzSpan="8">
          <nz-form-item>
            <nz-form-label nzNoColon>Status</nz-form-label>
            <nz-form-control>
              <nz-switch
                name="status"
                nzCheckedChildren="Active"
                nzUnCheckedChildren="Inactive"
                [(ngModel)]="data.IS_ACTIVE"
              ></nz-switch>
            </nz-form-control>
          </nz-form-item>
        </div>
        
      </div>
      <div nz-col nzSpan="24">
        <nz-form-item>
          <nz-form-label nzNoColon>Item Image</nz-form-label>
          <span></span>
          <nz-form-control nzHasFeedback nzErrorTip="Select Image">
            <button
              *ngIf="data.ITEM_IMAGE_URL == ' ' || data.ITEM_IMAGE_URL == null"
              nz-button
              style="height: 28px; padding: 0px 7px; font-size: 10px; width: 23%"
              (click)="image1.click()"
            >Upload Image
              <!-- <i nz-icon nzType="upload" nzTheme="outline"></i> -->
              <input
                #image1
               
                name="image1"
                type="file"
                accept=".png, .jpg, .jpeg"
                (change)="onFileSelected($event)"
                style="display: none"
              />
            </button>
            <span
              *ngIf="!data.ITEM_IMAGE_URL || data.ITEM_IMAGE_URL.trim() === ''"
              style="
                color: red;
                font-size: 10px !important;
                display: block;
                margin-top: 5px;
              "
            >
              Please select an image file (PNG, JPG, JPEG) with a size up to 1MB.
            </span>
            <span
              *ngIf="data.ITEM_IMAGE_URL != null && data.ITEM_IMAGE_URL != undefined && data.ITEM_IMAGE_URL != ' '"
            >
              <div *ngIf="progressBarImageOne">
                <nz-progress
                  [style.width]="percentImageOne + '%'"
                  [nzPercent]="percentImageOne"
                  >{{ percentImageOne }}%</nz-progress
                >
              </div>
             
            </span>
           
           
          <div
              *ngIf="data.ITEM_IMAGE_URL != null && data.ITEM_IMAGE_URL != undefined && data.ITEM_IMAGE_URL != ' '"
              
            >
            <a style="color: blue; margin-right: 9px"
            (click)="viewImage(data.ITEM_IMAGE_URL)">
              {{ data.ITEM_IMAGE_URL }}
            </a>
              <a
                style="color: blue; margin-right: 9px"
                (click)="viewImage(data.ITEM_IMAGE_URL)"
                nz-tooltip
                nzTooltipTitle="Click Here To View Uploaded Image"
              >
                <span nz-icon nzType="eye" nzTheme="outline"></span>
              </a>
              <span *ngIf="data.ID">
                <span
                  style="cursor: pointer"
                  nz-popconfirm
                  nzPopconfirmTitle="Are you sure want delete?"
                  nzPopconfirmPlacement="top"
                  (nzOnConfirm)="image1DeleteConfirm(data)"
                  (nzOnCancel)="deleteCancel()"
                  style="cursor: pointer; color: red"
                >
                  <span
                    nz-icon
                    nzType="delete"
                    nzTheme="twotone"
                    [nzTwotoneColor]="'#FF0000'"
                    nz-tooltip
                    nzTooltipTitle="Delete"
                  >
                  </span>
            
                </span>
              </span>

              <span *ngIf="!data.ID">
                <span
                  style="cursor: pointer; margin-left: 10px"
                  nz-popconfirm
                  nzPopconfirmTitle="Are you sure want Delete?"
                  nzPopconfirmPlacement="top"
                  (nzOnConfirm)="removeImage()"
                  (nzOnCancel)="deleteCancel()"
                  style="cursor: pointer; color: red"
                >
                  <span
                    nz-icon
                    nzType="delete"
                    nzTheme="twotone"
                    [nzTwotoneColor]="'#FF0000'"
                    nz-tooltip
                    nzTooltipTitle="Delete"
                  >
                  </span>
                </span>
              </span>
            </div>
          </nz-form-control>
        </nz-form-item>
      </div>
       
    </form>
  </div>
  
  <div class="footer">
    <button
      nz-button
      nzType="default"
      (click)="close()"
      class="ant-btn"
      style="margin-right: 12px"
    >
      Cancel
    </button>
  
    <button
      nz-button
      *ngIf="!data.ID"
      nzType="primary"
      nz-dropdown
      [nzDropdownMenu]="menu"
      [nzLoading]="isSpinning"
      (click)="save(false, Servicemaster)"
      class="ant-btn ant-btn-primary"
    >
      Save & Close
    </button>
  
    <nz-dropdown-menu #menu="nzDropdownMenu">
      <ul nz-menu>
        <li
          nz-menu-item
          class="menuc"
          style="border-radius: 4px; background-color: #40a9ff"
        >
          <a
            class="footer-button"
            style="color: white"
            (click)="save(true, Servicemaster)"
            >Save & New</a
          >
        </li>
      </ul>
    </nz-dropdown-menu>
  
    <button
      type="button"
      class="ant-btn ant-btn-primary"
      nz-button
      [nzLoading]="isSpinning"
      *ngIf="data.ID"
      (click)="save(false, Servicemaster)"
    >
      <span>Update & Close</span>
    </button>


    
    <nz-modal
    [nzWidth]="900"
    [(nzVisible)]="ImageModalVisible"
    nzMaskClosable="false"
    nzClosable="false"
    [nzContent]="content"
    [nzTitle]="'Image View'"
    (nzOnCancel)="ImageModalCancel()"
    [nzFooter]="ImageModalFooter"
  >
    <ng-template #content>
      <nz-spin [nzSpinning]="isSpinning">
        <div
          *ngIf="imageshow != undefined && imageshow != null && imageshow != ''"
          class="ss"
          style="height: 400px; overflow: auto"
        >
          <iframe
            [src]="imageshow"
            style="width: 832px; height: 396px"
            frameborder="0"
          ></iframe>
        </div>
      </nz-spin>
    </ng-template>
    <ng-template #ImageModalFooter>
      <button nz-button nzType="default" (click)="ImageModalCancel()">
        Close
      </button>
    </ng-template>
  </nz-modal>
  </div>
  

